function paintTalkCards() { var e = document.getElementById("talk-cards-div"); for (i = 0; i < globalTalks.length; i++) { var t = globalTalks[i], a = document.createElement("img"); a.setAttribute("class", "card-img-top talk-card-image"), a.setAttribute("src", "/public/images/talks/" + (i + 1) + "-min.jpg?tr=w-400,h-300,bl-30,q-50"), a.setAttribute("alt", t.title); var d = document.createElement("div"); d.setAttribute("class", "card-body"); var r = document.createElement("h4"); r.setAttribute("class", "card-title"); var n = document.createTextNode(t.id + " - " + t.title); r.appendChild(n), d.appendChild(r); var c = document.createElement("p"); c.setAttribute("class", "card-text"); var l = document.createElement("i"); l.setAttribute("class", "material-icons-round talk-card-middle-icon"); var s = document.createTextNode("person"); l.appendChild(s), c.appendChild(l); var o = document.createElement("span"); o.setAttribute("class", "talk-card-middle-text"); var p = document.createTextNode(t.speaker); o.appendChild(p), c.appendChild(o), d.appendChild(c); var m = document.createElement("p"); m.setAttribute("class", "card-text"); var u = document.createElement("i"); u.setAttribute("class", "material-icons-round talk-card-middle-icon"); var v = document.createTextNode("apartment"); u.appendChild(v), m.appendChild(u); var h = document.createElement("span"); h.setAttribute("class", "talk-card-middle-text"); var b = ""; globalSessions.forEach(e => { e.id == t.session && (b = e.location) }); var g = document.createTextNode(b); h.appendChild(g), m.appendChild(h), d.appendChild(m); var C = 0; t.ratings.length > 0 && (t.ratings.forEach(e => { C += parseInt(e) }), C /= t.ratings.length); var A = document.createElement("p"); A.setAttribute("class", "card-text"); var E = document.createElement("i"); E.setAttribute("class", "material-icons-round talk-card-middle-icon"); var x = document.createTextNode("star"); E.appendChild(x), A.appendChild(E); var k = document.createElement("span"); k.setAttribute("class", "talk-card-middle-text"); var T = document.createTextNode(C.toFixed(2)); k.setAttribute("id", "avg_rating_" + t.id + "_in_card"), k.appendChild(T), A.appendChild(k), d.appendChild(A); var f = document.createElement("p"); f.setAttribute("class", "card-text"); var _ = document.createElement("i"); _.setAttribute("class", "material-icons-round talk-card-middle-icon"); var N = document.createTextNode("local_offer"); _.appendChild(N), f.appendChild(_); var y = document.createElement("span"); y.setAttribute("class", "talk-card-middle-text"); var I = ""; t.tags.forEach(e => { I = I.concat("#", e, " ") }); var B = document.createTextNode(I); y.appendChild(B), f.appendChild(y), d.appendChild(f); var F = document.createElement("div"); F.setAttribute("class", "col-md-8 talk-card-cta-option-div"); var L = document.createElement("a"); L.setAttribute("onclick", "openTab(event, 'Schedule');addToSchedule(" + t.id + ");"), L.setAttribute("title", "Add event to your schedule"), L.setAttribute("class", "btn btn-primary talk-card-cta-option"), L.setAttribute("href", "#"); var S = document.createTextNode(t.time); L.appendChild(S), F.appendChild(L); var j = document.createElement("div"); j.setAttribute("class", "col-md-4 talk-card-cta-option-div"); var w = document.createElement("select"); w.setAttribute("class", "form-control"), w.setAttribute("id", t.id); var H = document.createElement("label"); H.setAttribute("for", t.id), H.setAttribute("hidden", ""); var M = document.createTextNode(t.id); H.appendChild(M), j.appendChild(H); for (let e = 0; e <= 5; e++) { var q = document.createElement("option"); q.setAttribute("value", e), 0 == e && q.setAttribute("hidden", ""); var R = document.createTextNode(e); q.appendChild(R), w.appendChild(q) } w.addEventListener("change", function (e) { $.ajax({ url: "https://us-central1-clientside-74013.cloudfunctions.net/talkRatings?eventId=" + e.target.id + "&rating=" + e.target.value, success: function (t) { var a = 0; t.ratings.length > 0 && (t.ratings.forEach(e => { a += parseInt(e) }), a /= t.ratings.length), document.getElementById("avg_rating_" + e.target.id + "_in_table").innerHTML = a.toFixed(2), document.getElementById("avg_rating_" + e.target.id + "_in_card").innerHTML = a.toFixed(2) } }) }), j.appendChild(w); var z = document.createElement("div"); z.setAttribute("class", "row"), z.appendChild(F), z.appendChild(j), d.appendChild(z); var D = document.createElement("div"); "body-dark-mode" == $("body").attr("class") ? D.setAttribute("class", "card bg-dark") : D.setAttribute("class", "card"), D.appendChild(a), D.appendChild(d); var G = document.createElement("div"); G.setAttribute("class", "col-md-4 col-sm-6 col-xs-12 talk-card-padding"), G.appendChild(D), e.appendChild(G) } }