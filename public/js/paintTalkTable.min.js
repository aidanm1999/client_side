function paintTalkTable() { var e = document.getElementById("talk-table"); for (i = 0; i < globalTalks.length; i++) { var t = globalTalks[i], d = document.createElement("tr"), n = document.createElement("td"), a = document.createElement("td"), r = document.createElement("td"), l = document.createElement("td"), c = document.createElement("td"), o = document.createElement("td"), p = document.createElement("td"); p.setAttribute("id", "avg_rating_" + t.id + "_in_table"); var u = document.createElement("td"), s = document.createTextNode(parseInt(t.id)), m = document.createTextNode(t.title), h = document.createTextNode(t.speaker), g = ""; globalSessions.forEach(e => { e.id == t.session && (g = e.location) }); var C = document.createTextNode(g), b = ""; t.tags.forEach(e => { b = b.concat("#", e, " ") }); var v = document.createTextNode(b), E = document.createElement("a"); E.setAttribute("onclick", "openTab(event, 'Schedule');addToSchedule(" + t.id + ");"), E.setAttribute("title", "Add event to your schedule"), E.setAttribute("class", "btn btn-primary"), E.setAttribute("href", "#"); var T = document.createTextNode(t.time); E.appendChild(T); var f = 0; t.ratings.length > 0 && (t.ratings.forEach(e => { f += parseInt(e) }), f /= t.ratings.length); var x = document.createTextNode(f.toFixed(2)), A = document.createElement("select"); A.setAttribute("class", "form-control"), A.setAttribute("id", t.id); var _ = document.createElement("label"); _.setAttribute("for", t.id), _.setAttribute("hidden", ""); var N = document.createTextNode(t.id); _.appendChild(N); for (let e = 0; e <= 5; e++) { var k = document.createElement("option"); k.setAttribute("value", e), 0 == e && k.setAttribute("hidden", ""); var I = document.createTextNode(e); k.appendChild(I), A.appendChild(k) } A.addEventListener("change", function (e) { $.ajax({ url: "https://us-central1-clientside-74013.cloudfunctions.net/talkRatings?eventId=" + e.target.id + "&rating=" + e.target.value, success: function (t) { var d = 0; t.ratings.length > 0 && (t.ratings.forEach(e => { d += parseInt(e) }), d /= t.ratings.length), document.getElementById("avg_rating_" + e.target.id + "_in_table").innerHTML = d.toFixed(2), document.getElementById("avg_rating_" + e.target.id + "_in_card").innerHTML = d.toFixed(2) } }) }), n.appendChild(s), a.appendChild(m), r.appendChild(h), l.appendChild(C), c.appendChild(v), o.appendChild(E), p.appendChild(x), u.appendChild(_), u.appendChild(A), d.appendChild(n), d.appendChild(a), d.appendChild(r), d.appendChild(l), d.appendChild(c), d.appendChild(o), d.appendChild(p), d.appendChild(u), e.appendChild(d), createChart() } }